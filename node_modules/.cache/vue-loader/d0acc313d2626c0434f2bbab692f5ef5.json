{"remainingRequest":"/home/rodrigo/OvideoProject/ovideo-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rodrigo/OvideoProject/ovideo-frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rodrigo/OvideoProject/ovideo-frontend/src/views/Login.vue","mtime":1573125771683},{"path":"/home/rodrigo/OvideoProject/ovideo-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rodrigo/OvideoProject/ovideo-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rodrigo/OvideoProject/ovideo-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rodrigo/OvideoProject/ovideo-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { LoginCard } from \"@/components\";\n\nexport default {\n  components: {\n    LoginCard\n  },\n  bodyClass: \"login-page\",\n  data() {\n    return {\n      firstname: null,\n      email: null,\n      password: null,\n      loading:false\n    };\n  },\n  props: {\n    header: {\n      type: String,\n      default: require(\"@/assets/img/AGORA.png\")\n    }\n  },\n  computed: {\n    headerStyle() {\n      return {\n        backgroundImage: `url(${this.header})`\n      };\n    }\n  },\n  methods:{\n    login(){\n      this.loading = true;\n      this.$http.post(\"login\",{\n        email:this.email,\n        senha:this.password\n      }).then(response=>{\n        localStorage.setItem(\"token\",response.headers.authorization)\n        this.$store.commit(\"setLoggedTrue\");\n\n        let formData = new FormData();\n        let token  = response.headers.authorization.split(\" \");\n        formData.append('token', token[1]);\n\n        this.$http.post('/security/obter-perfil', formData).then(response=>{\n          let artist = response.data.filter((role=>{\n            return role.authority == \"ROLE_ARTISTA\"\n          }))\n\n          if(artist.length > 0){\n            this.$router.push(\"/profile\"); \n          }else{\n            this.$router.push(\"/categorias\"); \n          }\n        });\n      }).catch((error)=>{\n        console.error(error);\n        this.$swal({\n          position:'top',\n          type: 'error',\n          title: \"Oops!\",\n          text: 'Verifique seu email e senha',\n          toast: true,\n          timer: 3000,\n          showConfirmButton: false\n        });\n        this.loading = false;\n      })\n      .then(()=>{\n        this.loading = false;\n      })\n    }\n  }\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"section page-header\" :style=\"headerStyle\">\n      <div class=\"container\">\n        <div class=\"md-layout\">\n          <div\n            class=\"md-layout-item md-size-33 md-small-size-66 md-xsmall-size-100 md-medium-size-40 mx-auto\"\n          >\n            <login-card style=\"background: #556270;  /* fallback for old browsers */\n              background: -webkit-linear-gradient(to right, #FF6B6B, #556270);  /* Chrome 10-25, Safari 5.1-6 */\n              background: linear-gradient(to right, #FF6B6B, #556270); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n              \">\n              <div class=\"md-layout md-gutter md-alignment-center card-title\" slot=\"title\">\n                <img  style=\"width:50px\" slot=\"title\" class=\"card-title\" src=\"@/assets/img/Ovideo.png\"><br>\n              </div>\n              \n               <div class=\"md-layout md-gutter md-alignment-center card-title\" slot=\"title\">\n                <h4 style=\"display: block;width: 100%;\">Login</h4>\n                <div style=\"display:block\" class=\"md-alignment-center-center\" v-if=\"loading\">\n                    <md-progress-spinner md-mode=\"indeterminate\"></md-progress-spinner>\n                </div>\n              </div>\n              \n              <md-button\n                slot=\"buttons\"\n                href=\"javascript:void(0)\"\n                class=\"md-just-icon md-simple md-white\"\n              >\n                <i class=\"fab fa-facebook-square\"></i>\n              </md-button>\n              <md-button\n                slot=\"buttons\"\n                href=\"javascript:void(0)\"\n                class=\"md-just-icon md-simple md-white\"\n              >\n                <i class=\"fab fa-twitter\"></i>\n              </md-button>\n              <md-button\n                slot=\"buttons\"\n                href=\"javascript:void(0)\"\n                class=\"md-just-icon md-simple md-white\"\n              >\n                <i class=\"fab fa-google-plus-g\"></i>\n              </md-button>\n              <md-field class=\"md-form-group\" slot=\"inputs\">\n                <md-icon>email</md-icon>\n                <label>Email</label>\n                <md-input v-model=\"email\" type=\"email\"></md-input>\n              </md-field>\n              <md-field class=\"md-form-group\" slot=\"inputs\">\n                <md-icon>lock_outline</md-icon>\n                <label>Senha</label>\n                <md-input v-model=\"password\" type=\"password\"></md-input>\n              </md-field>\n              <md-button slot=\"footer\" @click=\"login\" class=\"md-simple md-success md-lg\">\n                Entrar\n              </md-button>\n            </login-card>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { LoginCard } from \"@/components\";\n\nexport default {\n  components: {\n    LoginCard\n  },\n  bodyClass: \"login-page\",\n  data() {\n    return {\n      firstname: null,\n      email: null,\n      password: null,\n      loading:false\n    };\n  },\n  props: {\n    header: {\n      type: String,\n      default: require(\"@/assets/img/AGORA.png\")\n    }\n  },\n  computed: {\n    headerStyle() {\n      return {\n        backgroundImage: `url(${this.header})`\n      };\n    }\n  },\n  methods:{\n    login(){\n      this.loading = true;\n      this.$http.post(\"login\",{\n        email:this.email,\n        senha:this.password\n      }).then(response=>{\n        localStorage.setItem(\"token\",response.headers.authorization)\n        this.$store.commit(\"setLoggedTrue\");\n\n        let formData = new FormData();\n        let token  = response.headers.authorization.split(\" \");\n        formData.append('token', token[1]);\n\n        this.$http.post('/security/obter-perfil', formData).then(response=>{\n          let artist = response.data.filter((role=>{\n            return role.authority == \"ROLE_ARTISTA\"\n          }))\n\n          if(artist.length > 0){\n            this.$router.push(\"/profile\"); \n          }else{\n            this.$router.push(\"/categorias\"); \n          }\n        });\n      }).catch((error)=>{\n        console.error(error);\n        this.$swal({\n          position:'top',\n          type: 'error',\n          title: \"Oops!\",\n          text: 'Verifique seu email e senha',\n          toast: true,\n          timer: 3000,\n          showConfirmButton: false\n        });\n        this.loading = false;\n      })\n      .then(()=>{\n        this.loading = false;\n      })\n    }\n  }\n};\n</script>\n\n<style lang=\"css\"></style>\n"]}]}